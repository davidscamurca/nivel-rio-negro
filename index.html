<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N√≠vel do Rio Negro Manaus</title>

    <!-- Meta tags para controle de cache -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <link rel="stylesheet" href="styles.css?v=1.1.5">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Headers de Seguran√ßa via Meta Tags (√∫nica op√ß√£o no GitHub Pages) -->
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy"
        content="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), speaker=(), vibrate=(), fullscreen=(self)">

    <!-- Content Security Policy - Compat√≠vel com Plotly.js -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' 'unsafe-eval';
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data: blob:;
        connect-src 'self' https://emailsave-func-dev.azurewebsites.net;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        frame-ancestors 'none';
    ">

    <script src="plotly-latest.min.js"></script>
</head>

<body>
    <header class="header">
        <div class="container">
            <h1 class="title">N√≠vel do Rio Negro Manaus</h1>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="current-level">--</div>
                        <div class="stat-label">N√≠vel Atual</div>
                        <div class="stat-date" id="current-date">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="max-level">--</div>
                        <div class="stat-label">M√°ximo Hist√≥rico</div>
                        <div class="stat-date" id="max-date">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="min-level">--</div>
                        <div class="stat-label">M√≠nimo Hist√≥rico</div>
                        <div class="stat-date" id="min-date">--</div>
                    </div>
                    <div class="stat-card"
                        data-tooltip="Como interpretar a Varia√ß√£o 7 dias:&#10;‚Ä¢ Mostra quanto o n√≠vel do rio subiu ou desceu nos √∫ltimos 7 dias&#10;‚Ä¢ Valor positivo (+): Rio subiu neste per√≠odo&#10;‚Ä¢ Valor negativo (-): Rio desceu neste per√≠odo&#10;‚Ä¢ Exemplo: +0,13m = Rio subiu 13cm em 7 dias">
                        <div class="stat-value" id="variation-7d">--</div>
                        <div class="stat-label">Varia√ß√£o 7 dias</div>
                        <div class="stat-date" id="variation-info">--</div>
                    </div>
                    <div class="stat-card"
                        data-tooltip="Como interpretar:&#10;‚Ä¢ Status: Enchendo (>0,5cm/dia), Vazando (<-0,5cm/dia), Parado (¬±0,5cm/dia)&#10;‚Ä¢ Velocidade: M√©dia dos √∫ltimos 3 dias&#10;‚Ä¢ Exemplo: +2,0cm/dia = Rio subindo 2cm por dia">
                        <div class="stat-value" id="river-status">--</div>
                        <div class="stat-label">Situa√ß√£o do Rio</div>
                        <div class="stat-date" id="status-info">--</div>
                    </div>
                </div>
            </section>

            <section class="chart-section chart-section-narrow">
                <h2 class="chart-title">Compara√ß√£o de n√≠veis por ano (2019-2025)</h2>
                <div class="chart-wrapper">
                    <div id="yearlyChart"></div>
                </div>
            </section>

            <section class="chart-section chart-section-narrow">
                <h2 class="chart-title">N√≠vel do Rio e M√©dias M√≥veis</h2>
                <div class="chart-wrapper">
                    <div id="dailyChart"></div>
                </div>
            </section>

            <section class="newsletter-section newsletter-section-narrow">
                <div class="newsletter-container">
                    <div class="newsletter-content">
                        <h2 class="newsletter-title">üìß Newsletter Semanal</h2>
                        <p class="newsletter-description">
                            Agora voc√™ pode se cadastrar para receber relat√≥rios di√°rios com gr√°ficos e estat√≠sticas do
                            n√≠vel do Rio Negro semanalmente no seu email.
                        </p>
                        <div class="newsletter-form-enabled">
                            <div class="newsletter-input-group">
                                <input type="email" placeholder="Digite seu email" class="newsletter-input"
                                    id="newsletterEmail">
                                <button type="button" class="newsletter-btn" id="subscribeBtn">Assinar</button>
                            </div>
                        </div>
                        <!-- Mensagem de sucesso ou erro -->
                        <p id="newsletterFeedback" style="margin-top: 10px; font-weight: bold;"></p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Sobre o Projeto</h3>
                    <p>Sistema de monitoramento dos n√≠veis do Rio Negro em Manaus com dados hist√≥ricos desde 2000.</p>
                    <p>Desenvolvido por <strong>Bemol</strong></p>
                </div>
                <div class="footer-section">
                    <h3>Dados</h3>
                    <p>Fonte: <a href="https://portodemanaus.com.br/nivel-do-rio-negro/" target="_blank" rel="noopener noreferrer">Porto de Manaus</a></p>
                    <p>Per√≠odo: 2000 - 2025</p>
                    <p>Atualiza√ß√£o di√°ria</p>
                </div>
                <div class="footer-section">
                    <h3>Links</h3>
                    <p><a href="https://github.com/davidscamurca/nivel-rio-negro" target="_blank" rel="noopener noreferrer">üìÇ C√≥digo no GitHub</a></p>
                    <p><a href="https://github.com/davidscamurca/nivel-rio-negro/issues" target="_blank" rel="noopener noreferrer">üêõ Reportar Problema</a></p>
                    <p><a href="https://github.com/davidscamurca/nivel-rio-negro/blob/main/README.md" target="_blank" rel="noopener noreferrer">üìñ Documenta√ß√£o</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 N√≠vel do Rio Negro Manaus</p>
                <p>Desenvolvido com ‚ù§Ô∏è por Bemol - Dados p√∫blicos para monitoramento ambiental</p>
            </div>
        </div>
    </footer> -->

    <script type="module" src="script.js?v=1.0.4"></script>
</body>

</html>